<!DOCTYPE html>
<html lang="en">
<script src="scripts/sketchpad.js"></script>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Draw-Something Canvas</title>
</head>

<body>
  <div id="root">
    <label> Line Size</label>
    <input type="number" value="1" id="line-size-input">
    <input type="color" value="#000000" id="color-panel" />
    <canvas id="sketchpad"></canvas>
  </div>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>

<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script>

  const socket = io();

  const sketchpad = new Sketchpad({
    element: '#sketchpad',
    width: window.innerWidth,
    height: window.innerHeight,
    color: '#FF0000',
  });

  socket.on('line-size-change', (event) => {
    sketchpad.penSize = event.size;
    document.getElementById('line-size-input').value = event.size;
  });

  socket.on('line-color-change', (event) => {
    sketchpad.color = event.color;
  });

  socket.on('bg-color-change', (event) => {
    sketchpad.setBackgroundColor(event.color);
  });

</script>